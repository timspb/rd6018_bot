# RD6018 Smart AI Controller: Telegram Edition

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://python.org)
[![Aiogram](https://img.shields.io/badge/Aiogram-3.x-green.svg)](https://aiogram.dev)
[![Home Assistant](https://img.shields.io/badge/Home%20Assistant-API-orange.svg)](https://home-assistant.io)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–º –±–ª–æ–∫–æ–º –ø–∏—Ç–∞–Ω–∏—è **RD6018** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞—Ä—è–¥–∫–∏ —Å–≤–∏–Ω—Ü–æ–≤–æ-–∫–∏—Å–ª–æ—Ç–Ω—ã—Ö –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–æ–≤ (–≤–∫–ª—é—á–∞—è EFB/AGM/GEL) —á–µ—Ä–µ–∑ **Home Assistant API** —Å –ø–æ–ª–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –≤ **Telegram**. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞—Ä—è–¥–∫–∏ —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∑–∞—â–∏—Ç–æ–π –∏ AI-–∞–Ω–∞–ª–∏–∑–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞—Ç–∞—Ä–µ–π.

## üöÄ –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò

**‚Ä¢ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∫—Ä–∏–≤—ã—Ö –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, —Ç–æ–∫–∞ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –ø—Ä—è–º–æ –≤ Telegram —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

**‚Ä¢ –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∑–∞—Ä—è–¥–∫–∏** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ CC/CV, –¥–µ—Å—É–ª—å—Ñ–∞—Ç–∞—Ü–∏—è, –∞–±—Å–æ—Ä–±—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –º–µ–∂–¥—É —ç—Ç–∞–ø–∞–º–∏

**‚Ä¢ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç** ‚Äî –∞–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ê–ö–ë —á–µ—Ä–µ–∑ DeepSeek LLM —Å –æ—Ü–µ–Ω–∫–æ–π —Ñ–∞–∑—ã –∑–∞—Ä—è–¥–∞, –ø—Ä–æ–≥–Ω–æ–∑–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ–º –∞–Ω–æ–º–∞–ª–∏–π (—Å—É–ª—å—Ñ–∞—Ç–∞—Ü–∏—è, –ø–æ—Ç–µ—Ä—è –µ–º–∫–æ—Å—Ç–∏)

**‚Ä¢ –°–æ–±—ã—Ç–∏–π–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π —Å–∏—Å—Ç–µ–º—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –∑–∞—â–∏—Ç

**‚Ä¢ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –∑–∞—Ä—è–¥–∫–∏** ‚Äî –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è Ca/Ca, EFB, AGM –±–∞—Ç–∞—Ä–µ–π + —Ä—É—á–Ω–æ–π —Ä–µ–∂–∏–º —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

**‚Ä¢ –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–π** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞—Ä—è–¥–∫–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ —Ç–∞–π–º–µ—Ä–æ–≤

## üõ°Ô∏è –°–ò–°–¢–ï–ú–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò (Critical Priority)

### **HARDWARE PROTECTION (–ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å)**
- **OVP/OCP –ª–∏–º–∏—Ç—ã RD6018** ‚Äî –∞–ø–ø–∞—Ä–∞—Ç–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è (17.5–í) –∏ —Ç–æ–∫–∞ (18.1–ê)
- **–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–∞—è –∑–∞—â–∏—Ç–∞** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è RD6018 –Ω–∞ 50¬∞C –∫–∞–∫ "–ø–æ—Å–ª–µ–¥–Ω—è—è –ª–∏–Ω–∏—è –æ–±–æ—Ä–æ–Ω—ã"
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥–Ω–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∏—Ç–∞—é—â–µ–π —Å–µ—Ç–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### **THERMAL SAFETY (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)**
–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Ä–º–æ–∑–∞—â–∏—Ç—ã –Ω–∞ –±–∞–∑–µ **–≤–Ω–µ—à–Ω–µ–≥–æ –¥–∞—Ç—á–∏–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã RD6018**:

- **35¬∞C** ‚Äî –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ Telegram –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- **40¬∞C** ‚Äî –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–∞, –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–∂–∏–º "üå° –û—Å—Ç—ã–≤–∞–Ω–∏–µ", –≤–æ–∑–≤—Ä–∞—Ç –∫ –∑–∞—Ä—è–¥—É –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –¥–æ 35¬∞C
- **45¬∞C** ‚Äî –ê–≤–∞—Ä–∏–π–Ω—ã–π —Å–±—Ä–æ—Å –≤ IDLE —Å –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º

### **SOFTWARE WATCHDOG (–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)**
- **Smart Watchdog** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–≤—è–∑–∏ —Å Home Assistant (–ø–æ—Ç–µ—Ä—è >3 –º–∏–Ω ‚Üí –∞–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ)
- **Hardware Watchdog** ‚Äî –¥–µ—Ç–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è RD6018 (–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö >5 –º–∏–Ω ‚Üí –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ OFF)
- **Phantom Battery Detection** ‚Äî –≤—ã—è–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏ –ê–ö–ë

### **USER FOOL-PROOF (–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)**
- **–õ–∏–º–∏—Ç —Ç–æ–∫–∞ 10–ê** —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π 10.1-18.0–ê
- **–ó–∞–ø—Ä–µ—Ç –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞** ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ 1 —á–∞—Å, –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π 72 —á–∞—Å–∞
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, —Ç–æ–∫–∞ –∏ –¥–µ–ª—å—Ç–∞-—Ç—Ä–∏–≥–≥–µ—Ä–æ–≤
- **–î–≤–æ–π–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö

- **Python 3.10+** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Aiogram 3.x** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π FSM
- **Matplotlib** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ U/I/T –∫—Ä–∏–≤—ã—Ö
- **Home Assistant API** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–º–Ω–æ–≥–æ –¥–æ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è RD6018
- **SQLite + aiosqlite** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏ –ª–æ–≥–æ–≤
- **DeepSeek AI** ‚Äî LLM –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üì± –ò–ù–¢–ï–†–§–ï–ô–° –ò –î–ê–®–ë–û–†–î

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞:

```
üìä –°–¢–ê–¢–£–°: ‚ö°Ô∏è Main Charge | EFB | ‚è± 02:15
‚ö°Ô∏è LIVE: 14.69–í | 0.35–ê | üå° 28.5¬∞C
üìç –≠–¢–ê–ü: Main Charge | ‚è± 00:12
‚öôÔ∏è –£–°–¢–ê–í–ö–ò: 14.70–í | 5.00–ê
üîú –§–ò–ù–ò–®: <0.30–ê | ‚è± 71—á
üîã –ï–ú–ö–û–°–¢–¨: 15.25 –ê—á
```

### –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∏–∫–æ–Ω–æ–∫:
- **‚è±** ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ (–≤—Ä–µ–º—è –≤ —ç—Ç–∞–ø–µ, –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è)
- **‚ö°Ô∏è** ‚Äî –∂–∏–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Ç–æ–∫, –º–æ—â–Ω–æ—Å—Ç—å)
- **üìç** ‚Äî —Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø –∑–∞—Ä—è–¥–∫–∏
- **üîú** ‚Äî —É—Å–ª–æ–≤–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É
- **üå°** ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –≤–Ω–µ—à–Ω–µ–≥–æ –¥–∞—Ç—á–∏–∫–∞
- **‚öôÔ∏è** ‚Äî —Ç–µ–∫—É—â–∏–µ —É—Å—Ç–∞–≤–∫–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –∏ —Ç–æ–∫–∞ –Ω–∞ –ø—Ä–∏–±–æ—Ä–µ

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
- **üß† AI –ê–ù–ê–õ–ò–ó** ‚Äî –∑–∞–ø—Ä–æ—Å –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ê–ö–ë —É –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞
- **‚öôÔ∏è –†–ï–ñ–ò–ú–´** ‚Äî –≤—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –∑–∞—Ä—è–¥–∫–∏ (Ca/Ca, EFB, AGM, Custom)
- **üìù –õ–û–ì–ò –°–û–ë–´–¢–ò–ô** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –¥–µ–π—Å—Ç–≤–∏–π —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **üîÑ –û–ë–ù–û–í–ò–¢–¨** ‚Äî –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

## üîÑ –ê–õ–ì–û–†–ò–¢–ú–´ –ó–ê–†–Ø–î–ö–ò

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏:**

**Ca/Ca (–ö–∞–ª—å—Ü–∏–µ–≤—ã–µ):**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞: 12.0–í/0.5–ê ‚Üí Main: 14.7–í/5–ê ‚Üí Mix: 15.5–í/2–ê ‚Üí –•—Ä–∞–Ω–µ–Ω–∏–µ: 13.8–í

**EFB (Enhanced Flooded Battery):**
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚Üí Main: 14.4–í/5–ê ‚Üí Mix: 15.8–í/2–ê (10—á –ª–∏–º–∏—Ç) ‚Üí –•—Ä–∞–Ω–µ–Ω–∏–µ: 13.8–í

**AGM (Absorbed Glass Mat):**
- 4-—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º: 14.1–í ‚Üí 14.4–í ‚Üí 14.7–í ‚Üí 15.0–í —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Ç–æ–∫–∞

### **–£—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤:**
- **CC‚ÜíCV –ø–µ—Ä–µ—Ö–æ–¥** ‚Äî –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è
- **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ Main** ‚Äî –ø–∞–¥–µ–Ω–∏–µ —Ç–æ–∫–∞ <0.3–ê –≤ —Ç–µ—á–µ–Ω–∏–µ 40 –º–∏–Ω—É—Ç
- **Delta-trigger** ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏–π dV/dI –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∑–∞—Ä—è–¥–∞
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç "–∑–∞–≤–∏—Å–∞–Ω–∏—è" –Ω–∞ —ç—Ç–∞–ø–∞—Ö

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ê–ù–ê–õ–ò–¢–ò–ö–ê

### **–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2-6 —á–∞—Å–æ–≤
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—Ä–∏–≤—ã—Ö –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è, —Ç–æ–∫–∞ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- –ú–∞—Ä–∫–µ—Ä—ã —ç—Ç–∞–ø–æ–≤ –∑–∞—Ä—è–¥–∫–∏ –∏ —Å–æ–±—ã—Ç–∏–π
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–µ–π

### **AI-–∞–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∞–∑—ã –∑–∞—Ä—è–¥–∫–∏ (CC/CV/Float)
- –û—Ü–µ–Ω–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ê–ö–ë –ø–æ –¥–∏–Ω–∞–º–∏–∫–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü—Ä–æ–≥–Ω–æ–∑ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞—Ä—è–¥–∫–∏
- –í—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π (—Å—É–ª—å—Ñ–∞—Ç–∞—Ü–∏—è, –ø–æ—Ç–µ—Ä—è –µ–º–∫–æ—Å—Ç–∏)

### **–°–æ–±—ã—Ç–∏–π–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```
[19:15] üèÅ Main: START EFB 60Ah
    V=12.8–í | I=0.1–ê | T=25¬∞C
[19:16] ‚öôÔ∏è Main: –£—Å—Ç–∞–≤–∫–∏ V=14.4–í I=5.0–ê
[20:45] ‚úÖ Main: –ü–µ—Ä–µ—Ö–æ–¥ –∫ Mix Mode
    V=14.4–í | I=0.28–ê | Œî=0.025
```

## ‚ö° –£–°–¢–ê–ù–û–í–ö–ê –ò –ù–ê–°–¢–†–û–ô–ö–ê

### **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Python 3.10+
- Home Assistant —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π RD6018
- Telegram Bot Token
- DeepSeek API Key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```bash
git clone https://github.com/your-repo/rd6018-smart-controller.git
cd rd6018-smart-controller
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ URL
```

4. **–ó–∞–ø—É—Å–∫:**
```bash
python bot.py
```

### **Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**
```bash
docker build -t rd6018-controller .
docker run -d --env-file .env rd6018-controller
```

## üîß –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### **–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (.env):**
```env
TG_TOKEN=your_telegram_bot_token
HA_URL=http://your-homeassistant:8123
HA_TOKEN=your_long_lived_access_token
DEEPSEEK_API_KEY=your_deepseek_api_key
USER_TIMEZONE=Europe/Moscow
```

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Home Assistant:**
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RD6018 –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ HA —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ entities:
- `sensor.rd_6018_voltage` ‚Äî –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞ –≤—ã—Ö–æ–¥–µ
- `sensor.rd_6018_current` ‚Äî –≤—ã—Ö–æ–¥–Ω–æ–π —Ç–æ–∫
- `sensor.rd_6018_temperature_external` ‚Äî –≤–Ω–µ—à–Ω–∏–π –¥–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
- `switch.rd_6018_output` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–æ–º
- `number.rd_6018_output_voltage` ‚Äî —É—Å—Ç–∞–≤–∫–∞ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è
- `number.rd_6018_output_current` ‚Äî —É—Å—Ç–∞–≤–∫–∞ —Ç–æ–∫–∞

## üõ†Ô∏è –†–ê–ó–†–ê–ë–û–¢–ö–ê

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å Telegram –±–æ—Ç–∞
‚îú‚îÄ‚îÄ charge_logic.py     # –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∑–∞—Ä—è–¥–∫–∏ –∏ FSM
‚îú‚îÄ‚îÄ hass_api.py        # –ö–ª–∏–µ–Ω—Ç Home Assistant API
‚îú‚îÄ‚îÄ graphing.py        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
‚îú‚îÄ‚îÄ database.py        # –†–∞–±–æ—Ç–∞ —Å SQLite
‚îú‚îÄ‚îÄ ai_engine.py       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å DeepSeek
‚îú‚îÄ‚îÄ charging_log.py    # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ time_utils.py      # –†–∞–±–æ—Ç–∞ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–æ–Ω–∞–º–∏
‚îî‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
```

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `ChargeController` ‚Äî –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—Ä—è–¥–∫–æ–π
- `HassClient` ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç Home Assistant
- `DatabaseManager` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SQLite –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

- **–¶–∏–∫–ª –æ–ø—Ä–æ—Å–∞:** 10 —Å–µ–∫—É–Ω–¥ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞:** <2 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∫–æ–º–∞–Ω–¥
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:** ~50MB (—Å –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞ 24 —á–∞—Å–∞)
- **–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ HA:** 6 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
- **–†–∞–∑–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** ~10MB –≤ –º–µ—Å—è—Ü –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

## üîí –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω—É—é –∑–∞—â–∏—Ç—É RD6018** –Ω–∞ 50¬∞C –∫–∞–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä—É–±–µ–∂
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –¥–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã** –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–∞–ª–∏–±—Ä–æ–≤–∫—É** –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ø–µ–π RD6018
4. **–ù–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –∑–∞—Ä—è–¥ –±–µ–∑ –ø—Ä–∏—Å–º–æ—Ç—Ä–∞** –±–æ–ª–µ–µ —á–µ–º –Ω–∞ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞
5. **–ü—Ä–æ–≤–æ–¥–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ü–∏–∫–ª—ã** –Ω–∞ —Å—Ç–∞—Ä—ã—Ö –ê–ö–ë –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π —Å –¥–æ—Ä–æ–≥–∏–º–∏

### **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–æ–∫: 18–ê (–∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ RD6018)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ: 17.5–í (–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ü–∏–∫–ª–∞: 72 —á–∞—Å–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è)

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

- **GitHub Issues** ‚Äî –¥–ª—è –±–∞–≥—Ä–µ–ø–æ—Ä—Ç–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **Telegram** ‚Äî @your_support_channel
- **Email** ‚Äî support@your-domain.com

## üìÑ –õ–ò–¶–ï–ù–ó–ò–Ø

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.

## üôè –ë–õ–ê–ì–û–î–ê–†–ù–û–°–¢–ò

- **RD6018 Community** ‚Äî –∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É
- **Home Assistant Team** ‚Äî –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- **Aiogram Contributors** ‚Äî –∑–∞ –º–æ—â–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **DeepSeek** ‚Äî –∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ AI API –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

---

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–Ω–∞–∫–æ–º—ã—Ö —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ –∑–∞—Ä—è–¥–∫–∏ —Å–≤–∏–Ω—Ü–æ–≤–æ-–∫–∏—Å–ª–æ—Ç–Ω—ã—Ö –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–æ–≤. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—é –ê–ö–ë –∏–ª–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è. –í—Å–µ–≥–¥–∞ —Å–æ–±–ª—é–¥–∞–π—Ç–µ –º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤—ã—Å–æ–∫–∏–º –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ–º –∏ —Ç–æ–∫–æ–º.